<mxfile host="app.diagrams.net" modified="2024-03-04T05:55:50.305Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" etag="rdacWXKCUdESLI_1Jx_p" version="24.0.1" type="github">
  <diagram id="UdsSIDulATGfqtP_NgU9" name="第 1 页">
    <mxGraphModel dx="1620" dy="462" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="vh_hXMYHBwvdVt0SuTvG-4" target="vh_hXMYHBwvdVt0SuTvG-17">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-80" y="610" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-4" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_2;whiteSpace=wrap;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="-115" y="450" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="vh_hXMYHBwvdVt0SuTvG-17" target="vh_hXMYHBwvdVt0SuTvG-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="vh_hXMYHBwvdVt0SuTvG-17" target="vh_hXMYHBwvdVt0SuTvG-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-17" value="&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;根据设备uiid、modelInfoId获取pushJudge&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="-200" y="600" width="240" height="100" as="geometry" />
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-18" value="&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;获取pushjudge的优先级是先使用modelInfoId找不到再使用uiid" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="627.5" width="50" height="45" as="geometry" />
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-28" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="vh_hXMYHBwvdVt0SuTvG-20" target="vh_hXMYHBwvdVt0SuTvG-27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-20" value="pushjudge 获取pushSetting,&lt;div&gt;对pushSetting.filte判断是否命中相关字段&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="-200" y="780" width="240" height="100" as="geometry" />
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-24" value="对filter.filterType的解释：&lt;div&gt;&amp;nbsp;为0，无匹配规则&lt;/div&gt;&lt;div&gt;为1 ，params内有命中filterKeyList中的值&lt;/div&gt;&lt;div&gt;为2，params内存在filterList中没有的键值&lt;/div&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="780" width="50" height="100" as="geometry" />
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="vh_hXMYHBwvdVt0SuTvG-20" target="vh_hXMYHBwvdVt0SuTvG-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-30" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="vh_hXMYHBwvdVt0SuTvG-27">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="80.00000000000023" y="1030.0000000000002" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-31" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];sketch=1;hachureGap=4;jiggle=2;curveFitting=1;" vertex="1" connectable="0" parent="vh_hXMYHBwvdVt0SuTvG-30">
          <mxGeometry x="-0.2686" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-33" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="vh_hXMYHBwvdVt0SuTvG-27" target="vh_hXMYHBwvdVt0SuTvG-35">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-80" y="1199.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-34" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];sketch=1;hachureGap=4;jiggle=2;curveFitting=1;" vertex="1" connectable="0" parent="vh_hXMYHBwvdVt0SuTvG-33">
          <mxGeometry x="-0.3034" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-27" value="是否命中filter规则" style="rhombus;whiteSpace=wrap;html=1;rounded=1;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="-150" y="970" width="140" height="120" as="geometry" />
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-37" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="vh_hXMYHBwvdVt0SuTvG-35" target="vh_hXMYHBwvdVt0SuTvG-36">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-38" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];sketch=1;hachureGap=4;jiggle=2;curveFitting=1;" vertex="1" connectable="0" parent="vh_hXMYHBwvdVt0SuTvG-37">
          <mxGeometry x="-0.113" relative="1" as="geometry">
            <mxPoint x="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-40" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="vh_hXMYHBwvdVt0SuTvG-35" target="vh_hXMYHBwvdVt0SuTvG-39">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-41" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];sketch=1;hachureGap=4;jiggle=2;curveFitting=1;" vertex="1" connectable="0" parent="vh_hXMYHBwvdVt0SuTvG-40">
          <mxGeometry x="-0.2694" y="-3" relative="1" as="geometry">
            <mxPoint y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-35" value="根据pushSetting,conditionList遍历当前上报params是否满足业务推送表达式" style="rhombus;whiteSpace=wrap;html=1;rounded=1;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="-195" y="1169" width="230" height="170" as="geometry" />
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-36" value="" style="shape=waypoint;sketch=1;size=6;pointerEvents=1;points=[];fillColor=default;resizable=0;rotatable=0;perimeter=centerPerimeter;snapToPoint=1;rounded=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="220" y="1244" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-44" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="vh_hXMYHBwvdVt0SuTvG-39" target="vh_hXMYHBwvdVt0SuTvG-43">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-39" value="满足条件的codition内推送平台并校验每个平台的推送开关表达式" style="whiteSpace=wrap;html=1;rounded=1;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="-155" y="1440" width="150" height="70" as="geometry" />
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-46" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="vh_hXMYHBwvdVt0SuTvG-43" target="vh_hXMYHBwvdVt0SuTvG-47">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-80" y="1725" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-43" value="推送消息" style="whiteSpace=wrap;html=1;rounded=1;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="-140" y="1595" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vh_hXMYHBwvdVt0SuTvG-47" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_2;whiteSpace=wrap;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="-115" y="1720" width="70" height="70" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
